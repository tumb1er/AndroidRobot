Протокол взаимодействия с роботом
=================================
Общие требования
----------------
1. Необходим бинарный "быстрый" режим работы и текстовый "отладочный"
2. Перед началом работы требуется загрузить конфигурацию и сохранить в памяти ее версию для последующей обработки реконнектов на андроиде
3. Необходим флаг отключения двигателя и сервопривода

Текстовый протокол
------------------
*Команда* представляет из себя строку длиной до 30 символов завершающаяся LF.
Ардуино буферизует получаемую строку и выполняет разбор команды в момент получения LF. Дальнейшие данные попадают в буфер.
*Имя команды* задается прописными английскими буквами.
*Параметры* передаются через пробел, в человекочитаемом виде.
*Ответ* тоже является строкой, завершающейся LF.

Список текстовых команд
-----------------------
1. **bm** - включение бинарного режима
2. **set** *key* *value* - задание параметра работы *key*.
3. **info** - получить состояние ардуино
4. **r** *value* - повернуть на угол *value* где *value* от -127 до 127.
5. **e** *value* - установить скорость двигателя на значение *value*, где *value* лежит в диапазоне от -127 до 127, а знак означает направление движения
6. **s** - полная остановка
7. **disable** - включение выключение реального управления
8. **version** - текущая версия конфигурации

Форматы текстовых ответов
-------------------------
1. **info** - *voltage* *rotation* *direction* *engine*
2. **r** - *rotation* (реальное значение, переданное на серву)
3. **e** - *direction* *motor* (F/R в качестве направления, реальное значение переданное в библиотеку Robot)
4. **disable** - *state* (enabled/disabled)
5. **set** - увеличенное на 1 значение версии
6. **version** - текущее значение версии

Список бинарных команд
----------------------
1. **tm** - включение текстового режима
2. **s** *key_byte* *value_byte* - установка параметра конфига
3. **i** - получение статуса ардуино
4. **r** *value_byte* - поворот на угол от -127 до 127
5. **e** *value_byte* - установить скорость двигателя
6. **s** - полная остановка
7. **d** - включение выключение реального управления
8. **v** - получить значение версии

Форматы бинарных ответов
------------------------

1. **i** *voltage_mv_word* *rotation_byte* *direction_char* *motor_byte*
2. **r** - *rotation_byte*
3. **e** - *direction_char* *motor_byte*
4. **d** - 1/0
5. **s** - *version_word*
6. **v** - *version_word*

Список параметров
-----------------
| bin | text | описание |
|:-:|:-:|:-|
| t | timeout | таймаут бездействия, после которого машина автоматически останавливается в 1/10с |
| a | angle | коррекционный угол сервопривода рулевого управления |
| s | steering_scale | диапазон углов поворота сервопривода, в % от аппаратных возможностей |
| m | min_speed | значение для минимальной ненулевой скорости движения |
| f | top_front_speed | значение для максимальной скорости вперед | 
| r | top_rear_speed | значение для максимальной скорости назад |

